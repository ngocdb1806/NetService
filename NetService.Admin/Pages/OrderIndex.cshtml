@page "/order"
@{
    ViewData["Title"] = "Phan tich doanh thu";
}
<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-10">
        <h2>@ViewData["Title"]</h2>
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="#">Trang chủ</a>
            </li>
            <li class="breadcrumb-item active">
                <strong>@ViewData["Title"]</strong>
            </li>
        </ol>
    </div>
    <div class="col-lg-2">

    </div>
</div>
<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox ">
                <div class="ibox-title">
                    <h5>List Order</h5>
                    <div class="ibox-tools">

                    </div>
                </div>
                <div class="ibox-content">

                    <div class="table-responsive">
                        <table class="table table-striped table-bordered table-hover dataTables-example" id="tbl_orders">
                            <thead>
                                <tr>
                                    <th>Mã</th>
                                    <th>Khách hàng</th>
                                    <th>Nhân viên phục vụ</th>
                                    <th>Tổng giá trị đơn hàng</th>
                                    <th>Giảm giá</th>
                                    <th>Ngày đặt hàng</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@section Scripts {

<script type="text/javascript">
        srsn.Utils.GetAllOrders("1970-01-01","2019-04-30")
            .then(function(data) {
                if(data) {

                    $("#tbl_orders").dataTable({
                        lengthMenu: [5, 10],
                        data: data,
                        columns: [
                            { data: 'id' },
                            { data: 'nameCustomer' },
                            { data: 'nameStaff' },
                            { data: 'totalPrice' },
                            { data: 'priceDiscount' },
                            { data: 'orderDate' },
                        ],
                        fixedHeader: {
                            header: true,
                            footer: true
                        },
                        "language": {
                            "decimal": "",
                            "emptyTable": "Khong co du lieu",
                            "info": "Xuat hien tu _START_ den _END_ trong _TOTAL_ du lieu",
                            "infoEmpty": "Xuat hien tu 0 den 0 trong 0 du lieu",
                            "infoFiltered": "(Loc tu _MAX_ du lieu)",
                            "infoPostFix": "",
                            "thousands": ",",
                            "lengthMenu": "Xuat hien _MENU_ du lieu",
                            "loadingRecords": "Dang cho...",
                            "processing": "Dang xu ly...",
                            "search": "Tim kiem:",
                            "zeroRecords": "Khong tim thay tap du lieu mong muon",
                            "paginate": {
                                "first": "Đầu",
                                "last": "Cuối",
                                "next": "Tới",
                                "previous": "Lui"
                            },
                            "aria": {
                                "sortAscending": ": activate to sort column ascending",
                                "sortDescending": ": activate to sort column descending"
                            }
                        },
                        drawCallback: function (settings) {
                           
                        }
                    });

                }
            })
            .catch(function(e) {
                console.log(e);
            });
</script>

}